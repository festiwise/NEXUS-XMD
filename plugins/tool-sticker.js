//codedbyjawadtechxconstpath=require("path");const{fetchGif,fetchImage,gifToSticker}=require('../lib/sticker-utils');const{tmpdir}=require("os");constfetch=require("node-fetch");constCrypto=require("crypto");constffmpegPath=require("@ffmpeg-installer/ffmpeg").path;const{getBuffer,getGroupAdmins,getRandom,h2k,isUrl,Json,runtime,sleep,fetchJson}=require("../lib/functions");constffmpeg=require("fluent-ffmpeg");constfs=require("fs");const{cmd}=require('../command');const{videoToWebp}=require('../lib/video-utils');const{Sticker,createSticker,StickerTypes}=require("wa-sticker-formatter");constconfig=require("../config");cmd({pattern:'vsticker',alias:['gsticker','g2s','gs','v2s','vs',],desc:'ConvertGIF/Videotoasticker.',category:'sticker',use:'<replymediaorURL>',filename:__filename,},async(conn,mek,m,{quoted,args,reply})=>{try{if(!mek.quoted)returnreply('*ReplytoavideoorGIFtoconvertittoasticker!*');constmime=mek.quoted.mtype;if(!['videoMessage','imageMessage'].includes(mime)){returnreply('*PleasereplytoavalidvideoorGIF.*');}//Downloadthemediafileconstmedia=awaitmek.quoted.download();//ConvertthevideotoaWebPbufferconstwebpBuffer=awaitvideoToWebp(media);//Generatestickermetadataconststicker=newSticker(webpBuffer,{pack:config.STICKER_NAME||'MyPack',author:'',//Leaveblankorcustomizetype:StickerTypes.FULL,//FULLforregularstickerscategories:['ü§©','üéâ'],//Emojicategoriesid:'12345',//OptionalIDquality:75,//Setqualityforoptimizationbackground:'transparent',//Transparentbackground});//ConvertstickertobufferandsendconststickerBuffer=awaitsticker.toBuffer();returnconn.sendMessage(mek.chat,{sticker:stickerBuffer},{quoted:mek});}catch(error){console.error(error);reply(`‚ùåAnerroroccurred:${error.message}`);}});cmd({pattern:"attp",desc:"ConverttexttoaGIFsticker.",react:"‚ú®",category:"convert",use:".attpHI",filename:__filename,},async(conn,mek,m,{args,reply})=>{try{if(!args[0])returnreply("*Pleaseprovidetext!*");constgifBuffer=awaitfetchGif(`https://api-fix.onrender.com/api/maker/attp?text=${encodeURIComponent(args[0])}`);conststickerBuffer=awaitgifToSticker(gifBuffer);awaitconn.sendMessage(m.chat,{sticker:stickerBuffer},{quoted:mek});}catch(error){reply(`‚ùå${error.message}`);}});