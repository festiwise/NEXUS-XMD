constconfig=require('../config')const{cmd,commands}=require('../command')const{getBuffer,getGroupAdmins,getRandom,h2k,isUrl,Json,runtime,sleep,fetchJson}=require('../lib/functions')cmd({pattern:"tagadmins",react:"👑",alias:["gc_tagadmins"],desc:"ToTagallAdminsoftheGroup",category:"group",use:'.tagadmins[message]',filename:__filename},async(conn,mek,m,{from,participants,reply,isGroup,senderNumber,groupAdmins,prefix,command,args,body})=>{try{if(!isGroup)returnreply("❌Thiscommandcanonlybeusedingroups.");constbotOwner=conn.user.id.split(":")[0];//Extractbotowner'snumberconstsenderJid=senderNumber+"@s.whatsapp.net";//EnsuregroupmetadataisfetchedproperlyletgroupInfo=awaitconn.groupMetadata(from).catch(()=>null);if(!groupInfo)returnreply("❌Failedtofetchgroupinformation.");letgroupName=groupInfo.subject||"UnknownGroup";letadmins=awaitgetGroupAdmins(participants);lettotalAdmins=admins?admins.length:0;if(totalAdmins===0)returnreply("❌Noadminsfoundinthisgroup.");letemojis=['👑','⚡','🌟','✨','🎖️','💎','🔱','🛡️','🚀','🏆'];letrandomEmoji=emojis[Math.floor(Math.random()*emojis.length)];//Propermessageextractionletmessage=body.slice(body.indexOf(command)+command.length).trim();if(!message)message="AttentionAdmins";//Defaultmessageletteks=`▢Group:*${groupName}*\n▢Admins:*${totalAdmins}*\n▢Message:*${message}*\n\n┌───⊷*ADMINMENTIONS*\n`;for(letadminofadmins){if(!admin)continue;//Preventundefinederrorsteks+=`${randomEmoji}@${admin.split('@')[0]}\n`;}teks+="└──✪NEXUS┃XMD✪──";conn.sendMessage(from,{text:teks,mentions:admins},{quoted:mek});}catch(e){console.error("TagAdminsError:",e);reply(`❌*ErrorOccurred!!*\n\n${e.message||e}`);}});