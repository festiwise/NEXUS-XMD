const{cmd}=require('../command');cmd({pattern:"demote",alias:["d","dismiss","removeadmin"],desc:"Demotesagroupadmintoanormalmember",category:"admin",react:"⬇️",filename:__filename},async(conn,mek,m,{from,l,quoted,body,isCmd,command,args,q,isGroup,sender,senderNumber,botNumber2,botNumber,pushname,isMe,isOwner,groupMetadata,groupName,participants,groupAdmins,isBotAdmins,isCreator,isDev,isAdmins,reply})=>{//Checkifthecommandisusedinagroupif(!isGroup)returnreply("❌Thiscommandcanonlybeusedingroups.");//Checkiftheuserisanadminif(!isAdmins)returnreply("❌Onlygroupadminscanusethiscommand.");//Checkifthebotisanadminif(!isBotAdmins)returnreply("❌Ineedtobeanadmintousethiscommand.");letnumber;if(m.quoted){number=m.quoted.sender.split("@")[0];//Ifreplyingtoamessage,getthesender'snumber}elseif(q&&q.includes("@")){number=q.replace(/[@\s]/g,'');//Ifmanuallytypinganumber}else{returnreply("❌Pleasereplytoamessageorprovideanumbertodemote.");}//Preventdemotingthebotitselfif(number===botNumber)returnreply("❌Thebotcannotdemoteitself.");constjid=number+"@s.whatsapp.net";try{awaitconn.groupParticipantsUpdate(from,[jid],"demote");reply(`✅Successfullydemoted@${number}toanormalmember.`,{mentions:[jid]});}catch(error){console.error("Demotecommanderror:",error);reply("❌Failedtodemotethemember.");}});