const{cmd}=require('../command');constaxios=require('axios');cmd({pattern:"pindl",alias:["pinterestdl","pin","pins","pindownload"],desc:"DownloadmediafromPinterest",category:"download",filename:__filename},async(conn,mek,m,{args,quoted,from,reply})=>{try{//MakesuretheuserprovidedthePinterestURLif(args.length<1){returnreply('❎PleaseprovidethePinterestURLtodownloadfrom.');}//ExtractPinterestURLfromtheargumentsconstpinterestUrl=args[0];//CallyourPinterestdownloadAPIconstresponse=awaitaxios.get(`https://api.giftedtech.web.id/api/download/pinterestdl?apikey=gifted&url=${encodeURIComponent(pinterestUrl)}`);if(!response.data.success){returnreply('❎FailedtofetchdatafromPinterest.');}constmedia=response.data.result.media;constdescription=response.data.result.description||'Nodescriptionavailable';//Checkifdescriptionexistsconsttitle=response.data.result.title||'Notitleavailable';//SelectthebestvideoqualityoryoucanchoosebasedonsizeortypeconstvideoUrl=media.find(item=>item.type.includes('720p'))?.download_url||media[0].download_url;//Preparethenewmessagewiththeupdatedcaptionconstdesc=`╭━━━〔*NEXUS-XMD*〕━━━┈⊷┃▸╭───────────┃▸┃๏*PINSDOWNLOADER*┃▸└───────────···๏╰────────────────┈⊷╭━━❐━⪼┇๏*Title*-${title}┇๏*MediaType*-${media[0].type}╰━━❑━⪼>*©PᴏᴡᴇʀᴇᴅBʏNexusTech♡*`;//Sendthemedia(videoorimage)totheuserif(videoUrl){//Ifit'savideo,sendthevideoawaitconn.sendMessage(from,{video:{url:videoUrl},caption:desc},{quoted:mek});}else{//Ifit'sanimage,sendtheimageconstimageUrl=media.find(item=>item.type==='Thumbnail')?.download_url;awaitconn.sendMessage(from,{image:{url:imageUrl},caption:desc},{quoted:mek});}}catch(e){console.error(e);awaitconn.sendMessage(from,{react:{text:'❌',key:mek.key}});reply('❎Anerroroccurredwhileprocessingyourrequest.');}});