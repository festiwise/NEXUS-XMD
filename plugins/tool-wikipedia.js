const{cmd,commands}=require("../command");const{fetchJson}=require("../lib/functions");const{translate}=require("@vitalets/google-translate-api");cmd({pattern:"wikipedia",alias:["wiki"],react:"📖",desc:"FetchWikipediainformationandtranslatetoEnglish.",category:"information",filename:__filename},async(conn,mek,m,{from,quoted,body,isCmd,command,args,q,isGroup,sender,reply})=>{try{if(!q){returnreply("PleaseprovideasearchqueryforWikipedia.");}awaitreply("SearchingWikipedia...");constresponse=awaitfetchJson(`https://api.siputzx.my.id/api/s/wikipedia?query=${encodeURIComponent(q)}`);if(!response.status||!response.data){returnreply("Noresultsfoundforyourquery.");}const{wiki,thumb}=response.data;//TranslatetheWikipediatexttoEnglishconsttranslated=awaittranslate(wiki,{to:"en"});letmessage=`📖*WikipediaResult*\n\n📝*Query:*${q}\n\n${translated.text}`;if(thumb){awaitconn.sendMessage(m.chat,{image:{url:thumb},caption:message});}else{awaitreply(message);}}catch(error){console.error(error);reply("Anerroroccurred:"+error.message);}});