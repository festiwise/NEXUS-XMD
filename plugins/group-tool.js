const{cmd}=require('../command');constsleep=(ms)=>newPromise((resolve)=>setTimeout(resolve,ms));//removeonlymembercmd({pattern:"removemembers",alias:["kickall","endgc","endgroup"],desc:"Removeallnon-adminmembersfromthegroup.",react:"ðŸŽ‰",category:"group",filename:__filename,},async(conn,mek,m,{from,groupMetadata,groupAdmins,isBotAdmins,senderNumber,reply,isGroup})=>{try{//Checkifthecommandisusedinagroupif(!isGroup){returnreply("Thiscommandcanonlybeusedingroups.");}//Getthebotowner'snumberdynamicallyconstbotOwner=conn.user.id.split(":")[0];if(senderNumber!==botOwner){returnreply("Onlythebotownercanusethiscommand.");}if(!isBotAdmins){returnreply("Ineedtobeanadmintoexecutethiscommand.");}constallParticipants=groupMetadata.participants;constnonAdminParticipants=allParticipants.filter(member=>!groupAdmins.includes(member.id));if(nonAdminParticipants.length===0){returnreply("Therearenonon-adminmemberstoremove.");}reply(`Startingtoremove${nonAdminParticipants.length}non-adminmembers...`);for(letparticipantofnonAdminParticipants){try{awaitconn.groupParticipantsUpdate(from,[participant.id],"remove");awaitsleep(2000);//2-seconddelaybetweenremovals}catch(e){console.error(`Failedtoremove${participant.id}:`,e);}}reply("Successfullyremovedallnon-adminmembersfromthegroup.");}catch(e){console.error("Errorremovingnon-adminusers:",e);reply("Anerroroccurredwhiletryingtoremovenon-adminmembers.Pleasetryagain.");}});//removeonlyadminscmd({pattern:"removeadmins",alias:["kickadmins","kickall3","deladmins"],desc:"Removealladminmembersfromthegroup,excludingthebotandbotowner.",react:"ðŸŽ‰",category:"group",filename:__filename,},async(conn,mek,m,{from,isGroup,senderNumber,groupMetadata,groupAdmins,isBotAdmins,reply})=>{try{//Checkifthecommandisusedinagroupif(!isGroup){returnreply("Thiscommandcanonlybeusedingroups.");}//Getthebotowner'snumberdynamicallyconstbotOwner=conn.user.id.split(":")[0];if(senderNumber!==botOwner){returnreply("Onlythebotownercanusethiscommand.");}if(!isBotAdmins){returnreply("Ineedtobeanadmintoexecutethiscommand.");}constallParticipants=groupMetadata.participants;constadminParticipants=allParticipants.filter(member=>groupAdmins.includes(member.id)&&member.id!==conn.user.id&&member.id!==`${botOwner}@s.whatsapp.net`);if(adminParticipants.length===0){returnreply("Therearenoadminmemberstoremove.");}reply(`Startingtoremove${adminParticipants.length}adminmembers,excludingthebotandbotowner...`);for(letparticipantofadminParticipants){try{awaitconn.groupParticipantsUpdate(from,[participant.id],"remove");awaitsleep(2000);//2-seconddelaybetweenremovals}catch(e){console.error(`Failedtoremove${participant.id}:`,e);}}reply("Successfullyremovedalladminmembersfromthegroup,excludingthebotandbotowner.");}catch(e){console.error("Errorremovingadmins:",e);reply("Anerroroccurredwhiletryingtoremoveadmins.Pleasetryagain.");}});//removeadminsandmemeberbothcmd({pattern:"removeall2",alias:["kickall2","endgc2","endgroup2"],desc:"Removeallmembersandadminsfromthegroup,excludingthebotandbotowner.",react:"ðŸŽ‰",category:"group",filename:__filename,},async(conn,mek,m,{from,isGroup,senderNumber,groupMetadata,isBotAdmins,reply})=>{try{//Checkifthecommandisusedinagroupif(!isGroup){returnreply("Thiscommandcanonlybeusedingroups.");}//Getthebotowner'snumberdynamicallyconstbotOwner=conn.user.id.split(":")[0];if(senderNumber!==botOwner){returnreply("Onlythebotownercanusethiscommand.");}if(!isBotAdmins){returnreply("Ineedtobeanadmintoexecutethiscommand.");}constallParticipants=groupMetadata.participants;if(allParticipants.length===0){returnreply("Thegrouphasnomemberstoremove.");}//FilteroutthebotandbotownerfromthelistconstparticipantsToRemove=allParticipants.filter(participant=>participant.id!==conn.user.id&&participant.id!==`${botOwner}@s.whatsapp.net`);if(participantsToRemove.length===0){returnreply("Nomemberstoremoveafterexcludingthebotandbotowner.");}reply(`Startingtoremove${participantsToRemove.length}members,excludingthebotandbotowner...`);for(letparticipantofparticipantsToRemove){try{awaitconn.groupParticipantsUpdate(from,[participant.id],"remove");awaitsleep(2000);//2-seconddelaybetweenremovals}catch(e){console.error(`Failedtoremove${participant.id}:`,e);}}reply("Successfullyremovedallmembers,excludingthebotandbotowner,fromthegroup.");}catch(e){console.error("Errorremovingmembers:",e);reply("Anerroroccurredwhiletryingtoremovemembers.Pleasetryagain.");}});