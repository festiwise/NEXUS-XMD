constconfig=require('../config');const{cmd,commands}=require('../command');const{runtime}=require('../lib/functions');constaxios=require('axios');cmd({pattern:"menu",desc:"Showinteractivemenusystem",category:"menu",react:"🚀",filename:__filename},async(conn,mek,m,{from,reply})=>{try{constmenuCaption=`╭━━━〔*${config.BOT_NAME}*〕━━━┈⊷┃💠╭──────────────┃❄️│👤𝕆𝕨𝕟𝕖𝕣̾:*${config.OWNER_NAME}*┃❄️│🗽𝔹𝕒𝕚𝕝𝕖𝕪𝕤:*MultiDevice*┃❄️│❄️𝕋𝕪𝕡𝕖:*NodeJs*┃❄️│🏩ℙ𝕝𝕒𝕥𝕗𝕠𝕣𝕞:*Panel*┃❄️│🤔𝕄𝕠𝕕𝕖:*[${config.MODE}]*┃❄️│✅ℙ𝕣𝕖𝕗𝕚𝕩:*[${config.PREFIX}]*┃❄️│🎭𝕍𝕖𝕣𝕤𝕚𝕠𝕟:*4.0.0Antiban*┃💠╰──────────────╰━━━━━━━━━━━━━━━┈⊷╭━━〔*❤️MENULIST♥️*〕━━┈⊷┃⏩╭─────────────·๏┃☢️│1️⃣📥*DOWNLOADMENU*┃☢️│2️⃣👥*GROUPMENU*┃☢️│3️⃣😄*FUNMENU*┃☢️│4️⃣👑*OWNERMENU*┃☢️│5️⃣🤖*AIMENU*┃☢️│6️⃣🎎*ANIMEMENU*┃☢️│7️⃣🔄*CONVERTMENU*┃☢️│8️⃣📌*OTHERMENU*┃☢️│9️⃣💞*REACTIONSMENU*┃☢️│🔟🏠*MAINMENU*┃⏮️╰───────────┈⊷╰──────────────┈⊷>${config.DESCRIPTION}`;constcontextInfo={mentionedJid:[m.sender],forwardingScore:999,isForwarded:true,forwardedNewsletterMessageInfo:{newsletterJid:'120363288304618280@newsletter',newsletterName:config.OWNER_NAME,serverMessageId:143}};//FunctiontosendmenuimagewithtimeoutconstsendMenuImage=async()=>{try{returnawaitconn.sendMessage(from,{image:{url:config.MENU_IMAGE_URL||'https://files.catbox.moe/8ds5ln.jpeg'},caption:menuCaption,contextInfo:contextInfo},{quoted:mek});}catch(e){console.log('Imagesendfailed,fallingbacktotext');returnawaitconn.sendMessage(from,{text:menuCaption,contextInfo:contextInfo},{quoted:mek});}};//FunctiontosendmenuaudiowithtimeoutconstsendMenuAudio=async()=>{try{awaitnewPromise(resolve=>setTimeout(resolve,1000));//Smalldelayafterimageawaitconn.sendMessage(from,{audio:{url:'https://files.catbox.moe/o1gkq2.mp3'},mimetype:'audio/mp4',ptt:true,},{quoted:mek});}catch(e){console.log('Audiosendfailed,continuingwithoutit');}};//Sendimagefirst,thenaudiosequentiallyletsentMsg;try{//Sendimagewith10stimeoutsentMsg=awaitPromise.race([sendMenuImage(),newPromise((_,reject)=>setTimeout(()=>reject(newError('Imagesendtimeout')),10000))]);//Thensendaudiowith1sdelayand8stimeoutawaitPromise.race([sendMenuAudio(),newPromise((_,reject)=>setTimeout(()=>reject(newError('Audiosendtimeout')),8000))]);}catch(e){console.log('Menusenderror:',e);if(!sentMsg){sentMsg=awaitconn.sendMessage(from,{text:menuCaption,contextInfo:contextInfo},{quoted:mek});}}constmessageID=sentMsg.key.id;//Menudata(completeversion)constmenuData={'1':{title:"📥*DownloadMenu*📥",content:`╭━━━〔*DownloadMenu*〕━━━┈⊷┃☢️╭──────────────┃🚀│🌐*SocialMedia*┃🚀│•facebook[url]┃🚀│•mediafire[url]┃🚀│•tiktok[url]┃🚀│•twitter[url]┃🚀│•Insta[url]┃🚀│•apk[app]┃🚀│•img[query]┃🚀│•tt2[url]┃🚀│•pins[url]┃🚀│•apk2[app]┃🚀│•fb2[url]┃🚀│•pinterest[url]┃🚀│•porn┃🚀│•xvideos┃🚀│⏮️🎵*Music/Video⏩┃🚀│•spotify[query]┃🚀│•play[song]┃🚀│•play2-10[song]┃🚀│•audio[url]┃🚀│•video[url]┃🚀│•video2-10[url]┃🚀│•ytmp3[url]┃🚀│•ytmp4[url]┃🎭│•plyy[name]┃🎭│•darama[name]┃☢️╰──────────────╰━━━━━━━━━━━━━━━┈⊷>${config.DESCRIPTION}`,image:true},'2':{title:"👥**👥",content:`╭━━━〔*GroupMenu*〕━━━┈⊷┃★╭──────────────┃★│🛠️*Management*┃★│•grouplink┃★│•kickall┃★│•kickall2┃★│•kickall3┃★│•add@user┃★│•remove@user┃★│•kick@user┃★│┃★│┃★│⚡*AdminTools*┃★│•promote@user┃★│•demote@user┃★│•dismiss┃★│•revoke┃★│•mute[time]┃★│•unmute┃★│•lockgc┃★│•unlockgc┃★│┃★│┃★│🏷️*Tagging*┃★│•tag@user┃★│•hidetag[msg]┃★│•tagall┃★│•tagadmins┃★│•invite┃★╰──────────────╰━━━━━━━━━━━━━━━┈⊷>${config.DESCRIPTION}`,image:true},'3':{title:"😄*FunMenu*😄",content:`╭━━━〔*FunMenu*〕━━━┈⊷┃★╭──────────────┃★│🎭*Interactive*┃★│•shapar┃★│•rate@user┃★│•insult@user┃★│•hack@user┃★│•ship@user1@user2┃★│•character┃★│•pickup┃★│•joke┃★│┃★│┃★│😂*Reactions*┃★│•hrt┃★│•hpy┃★│•syd┃★│•anger┃★│•shy┃★│•kiss┃★│•mon┃★│•cunfuzed┃★╰──────────────╰━━━━━━━━━━━━━━━┈⊷>${config.DESCRIPTION}`,image:true},'4':{title:"👑*OwnerMenu*👑",content:`╭━━━〔*OwnerMenu*〕━━━┈⊷┃★╭──────────────┃★│⚠️*Restricted*┃★│•block@user┃★│•unblock@user┃★│•fullpp[img]┃★│•setpp[img]┃★│•restart┃★│•shutdown┃★│•updatecmd┃★│┃★│┃★│ℹ️*InfoTools*┃★│•gjid┃★│•jid@user┃★│•adultmenu┃★│•mpesamenu┃★╰──────────────╰━━━━━━━━━━━━━━━┈⊷>${config.DESCRIPTION}`,image:true},'5':{title:"🤖*AIMenu*🤖",content:`╭━━━〔*AIMenu*〕━━━┈⊷┃★╭──────────────┃★│💬*ChatAI*┃★│•ai[query]┃★│•gpt3[query]┃★│•gpt2[query]┃★│•gptmini[query]┃★│•gpt[query]┃★│•meta[query]┃★│┃★│┃★│🖼️*ImageAI*┃★│•imagine[text]┃★│•imagine2[text]┃★╰──────────────┃★╭──────────────┃★│🔍*Specialized*┃★│•blackbox[query]┃★│•luma[query]┃★│•dj[query]┃★│•khan[query]┃★╰──────────────╰━━━━━━━━━━━━━━━┈⊷>${config.DESCRIPTION}`,image:true},'6':{title:"🎎*AnimeMenu*🎎",content:`╭━━━〔*AnimeMenu*〕━━━┈⊷┃★╭──────────────┃★│🖼️*Images*┃★│•fack┃★│•dog┃★│•awoo┃★│•garl┃★│•waifu┃★│•neko┃★│•megnumin┃★│•maid┃★│•loli┃★│┃★│┃★│🎭*Characters*┃★│•animegirl┃★│•animegirl1-5┃★│•anime1-5┃★│•foxgirl┃★│•naruto┃★╰──────────────╰━━━━━━━━━━━━━━━┈⊷>${config.DESCRIPTION}`,image:true},'7':{title:"🔄*ConvertMenu*🔄",content:`╭━━━〔*ConvertMenu*〕━━━┈⊷┃★╭──────────────┃★│🖼️*Media*┃★│•sticker[img]┃★│•sticker2[img]┃★│•emojimix😎+😂┃★│•take[name,text]┃★│•tomp3[video]┃★│┃★│┃★│📝*Text*┃★│•fancy[text]┃★│•tts[text]┃★│•trt[text]┃★│•base64[text]┃★│•unbase64[text]┃★╰──────────────╰━━━━━━━━━━━━━━━┈⊷>${config.DESCRIPTION}`,image:true},'8':{title:"📌*OtherMenu*📌",content:`╭━━━〔*OtherMenu*〕━━━┈⊷┃★╭──────────────┃★│🕒*Utilities*┃★│•timenow┃★│•date┃★│•count[num]┃★│•calculate[expr]┃★│•adultmenu┃★│┃★│┃★│🎲*Random*┃★│•flip┃★│•coinflip┃★│•rcolor┃★│•roll┃★│•fact┃★│┃★│┃★│🔍*Search*┃★│•define[word]┃★│•news[query]┃★│•movie[name]┃★│•weather[loc]┃★╰──────────────╰━━━━━━━━━━━━━━━┈⊷>${config.DESCRIPTION}`,image:true},'9':{title:"💞*ReactionsMenu*💞",content:`╭━━━〔*ReactionsMenu*〕━━━┈⊷┃★╭──────────────┃★│❤️*Affection*┃★│•cuddle@user┃★│•hug@user┃★│•kiss@user┃★│•lick@user┃★│•pat@user┃★│┃★│┃★│😂*Funny*┃★│•bully@user┃★│•bonk@user┃★│•yeet@user┃★│•slap@user┃★│•kill@user┃★╰──────────────┃★╭──────────────┃★│😊*Expressions*┃★│•blush@user┃★│•smile@user┃★│•happy@user┃★│•wink@user┃★│•poke@user┃★╰──────────────╰━━━━━━━━━━━━━━━┈⊷>${config.DESCRIPTION}`,image:true},'10':{title:"🏠*MainMenu*🏠",content:`╭━━━〔*MainMenu*〕━━━┈⊷┃☢️╭──────────────┃☢️│ℹ️*BotInfo*┃☢️│•ping┃☢️│•live┃☢️│•alive┃☢️│•runtime┃☢️│•uptime┃☢️│•repo┃☢️│•owner┃☢️│┃☢️│┃☢️│🛠️*Controls*┃☢️│•mpesamenu┃☢️│•adultmenu┃☢️│•restart│☢️│•menu┃☢️╰──────────────╰━━━━━━━━━━━━━━━┈⊷>${config.DESCRIPTION}`,image:true}};//Messagehandlerwithimprovederrorhandlingconsthandler=async(msgData)=>{try{constreceivedMsg=msgData.messages[0];if(!receivedMsg?.message||!receivedMsg.key?.remoteJid)return;constisReplyToMenu=receivedMsg.message.extendedTextMessage?.contextInfo?.stanzaId===messageID;if(isReplyToMenu){constreceivedText=receivedMsg.message.conversation||receivedMsg.message.extendedTextMessage?.text;constsenderID=receivedMsg.key.remoteJid;if(menuData[receivedText]){constselectedMenu=menuData[receivedText];try{if(selectedMenu.image){awaitconn.sendMessage(senderID,{image:{url:config.MENU_IMAGE_URL||'https://files.catbox.moe/8ds5ln.jpeg'},caption:selectedMenu.content,contextInfo:contextInfo},{quoted:receivedMsg});}else{awaitconn.sendMessage(senderID,{text:selectedMenu.content,contextInfo:contextInfo},{quoted:receivedMsg});}awaitconn.sendMessage(senderID,{react:{text:'✅',key:receivedMsg.key}});}catch(e){console.log('Menureplyerror:',e);awaitconn.sendMessage(senderID,{text:selectedMenu.content,contextInfo:contextInfo},{quoted:receivedMsg});}}else{awaitconn.sendMessage(senderID,{text:`❌*InvalidOption!*❌\n\nPleasereplywithanumberbetween1-10toselectamenu.\n\n*Example:*Replywith"1"forDownloadMenu\n\n>${config.DESCRIPTION}`,contextInfo:contextInfo},{quoted:receivedMsg});}}}catch(e){console.log('Handlererror:',e);}};//Addlistenerconn.ev.on("messages.upsert",handler);//Removelistenerafter5minutessetTimeout(()=>{conn.ev.off("messages.upsert",handler);},300000);}catch(e){console.error('MenuError:',e);try{awaitconn.sendMessage(from,{text:`❌Menusystemiscurrentlybusy.Pleasetryagainlater.\n\n>${config.DESCRIPTION}`},{quoted:mek});}catch(finalError){console.log('Finalerrorhandlingfailed:',finalError);}}});