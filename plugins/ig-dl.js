constconfig=require('../config');const{cmd}=require('../command');constfetch=require('node-fetch');cmd({pattern:"igvid",alias:["insta","igdl","instagram"],react:"🎥",desc:"DownloadInstagramvideosonly",category:"downloader",use:'.igvid<InstagramURL>',filename:__filename},async(conn,mek,m,{from,prefix,quoted,q,reply})=>{try{if(!q||!q.startsWith('http')){returnreply(`✳️PleaseprovideavalidInstagramURL.\nExample:${prefix}igvid<URL>`);}//Waitingreactionawaitconn.sendMessage(from,{react:{text:"⏳",key:m.key}});constresponse=awaitfetch(`https://delirius-apiofc.vercel.app/download/instagram?url=${encodeURIComponent(q)}`);if(!response.ok)thrownewError("FailedtofetchfromInstagramAPI");constjson=awaitresponse.json();if(!json.data||!Array.isArray(json.data))thrownewError("InvalidAPIresponsestructure");constvideos=json.data.filter(item=>item.url&&item.url.endsWith('.mp4'));if(!videos.length){awaitconn.sendMessage(from,{react:{text:"❌",key:m.key}});returnreply("❌NovideosfoundintheInstagrampost.");}//Successreactionawaitconn.sendMessage(from,{react:{text:"✅",key:m.key}});for(constvideoofvideos){awaitconn.sendMessage(from,{video:{url:video.url},mimetype:"video/mp4",caption:`╭━━━〔*NEXUS-XMD*〕━━━┈⊷\n┃▸*InstagramVideo*\n╰────────────────┈⊷\n>*©PoweredNEXUS-TECH♡*`},{quoted:mek});}}catch(e){console.error("IGVIDERROR:",e.message||e);awaitconn.sendMessage(from,{react:{text:"❌",key:m.key}});awaitreply("❎Anerroroccurredwhileprocessingyourrequest.");}});