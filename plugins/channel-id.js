const{cmd}=require("../command");cmd({pattern:"cid",alias:["newsletter","id"],react:"📡",desc:"GetWhatsAppChannelinfofromlink",category:"whatsapp",filename:__filename},async(conn,mek,m,{from,args,q,reply})=>{try{if(!q)returnreply("❎PleaseprovideaWhatsAppChannellink.\n\n*Example:*.cinfohttps://whatsapp.com/channel/123456789");constmatch=q.match(/whatsapp\.com\/channel\/([\w-]+)/);if(!match)returnreply("⚠️*Invalidchannellinkformat.*\n\nMakesureitlookslike:\nhttps://whatsapp.com/channel/xxxxxxxxx");constinviteId=match[1];letmetadata;try{metadata=awaitconn.newsletterMetadata("invite",inviteId);}catch(e){returnreply("❌Failedtofetchchannelmetadata.Makesurethelinkiscorrect.");}if(!metadata||!metadata.id)returnreply("❌Channelnotfoundorinaccessible.");constinfoText=`*—乂ChannelInfo—*\n\n`+`🆔*ID:*${metadata.id}\n`+`📌*Name:*${metadata.name}\n`+`👥*Followers:*${metadata.subscribers?.toLocaleString()||"N/A"}\n`+`📅*Createdon:*${metadata.creation_time?newDate(metadata.creation_time*1000).toLocaleString("id-ID"):"Unknown"}`;if(metadata.preview){awaitconn.sendMessage(from,{image:{url:`https://pps.whatsapp.net${metadata.preview}`},caption:infoText},{quoted:m});}else{awaitreply(infoText);}}catch(error){console.error("❌Errorin.cinfoplugin:",error);reply("⚠️Anunexpectederroroccurred.");}});