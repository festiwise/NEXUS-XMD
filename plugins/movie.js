constaxios=require('axios');const{cmd}=require('../command');cmd({pattern:"movie",desc:"Fetchdetailedinformationaboutamovie.",category:"utility",react:"🎬",filename:__filename},async(conn,mek,m,{from,reply,sender,args})=>{try{//ProperlyextractthemovienamefromargumentsconstmovieName=args.length>0?args.join(''):m.text.replace(/^[\.\#\$\!]?movie\s?/i,'').trim();if(!movieName){returnreply("📽️Pleaseprovidethenameofthemovie.\nExample:.movieIronMan");}constapiUrl=`https://apis.davidcyriltech.my.id/imdb?query=${encodeURIComponent(movieName)}`;constresponse=awaitaxios.get(apiUrl);if(!response.data.status||!response.data.movie){returnreply("🚫Movienotfound.Pleasecheckthenameandtryagain.");}constmovie=response.data.movie;//Formatthecaptionconstdec=`🎬*${movie.title}*(${movie.year})${movie.rated||''}⭐*IMDb:*${movie.imdbRating||'N/A'}|🍅*RottenTomatoes:*${movie.ratings.find(r=>r.source==='RottenTomatoes')?.value||'N/A'}|💰*BoxOffice:*${movie.boxoffice||'N/A'}📅*Released:*${newDate(movie.released).toLocaleDateString()}⏳*Runtime:*${movie.runtime}🎭*Genre:*${movie.genres}📝*Plot:*${movie.plot}🎥*Director:*${movie.director}✍️*Writer:*${movie.writer}🌟*Actors:*${movie.actors}🌍*Country:*${movie.country}🗣️*Language:*${movie.languages}🏆*Awards:*${movie.awards||'None'}[ViewonIMDb](${movie.imdbUrl})`;//Sendmessagewiththerequestedformatawaitconn.sendMessage(from,{image:{url:movie.poster&&movie.poster!=='N/A'?movie.poster:'https://files.catbox.moe/ug8w1x.jpg'},caption:dec,contextInfo:{mentionedJid:[sender],forwardingScore:999,isForwarded:true,forwardedNewsletterMessageInfo:{newsletterJid:'120363288304618280@newsletter',newsletterName:'Nexusxmd',serverMessageId:143}}},{quoted:mek});}catch(e){console.error('Moviecommanderror:',e);reply(`❌Error:${e.message}`);}});