constaxios=require("axios");const{cmd}=require("../command");const{fetchGif,gifToVideo}=require("../lib/fetchGif");cmd({pattern:"marige",alias:["shadi","marriage","wedding"],desc:"RandomlypairstwousersformarriagewithaweddingGIF",react:"💍",category:"fun",filename:__filename},async(conn,mek,store,{isGroup,groupMetadata,reply,sender})=>{try{if(!isGroup)returnreply("❌Thiscommandcanonlybeusedingroups!");constparticipants=groupMetadata.participants.map(user=>user.id);//FilteroutthesenderandbotnumberifneededconsteligibleParticipants=participants.filter(id=>id!==sender&&!id.includes(conn.user.id.split('@')[0]));if(eligibleParticipants.length<1){returnreply("❌Notenoughparticipantstoperformamarriage!");}//SelectrandompairconstrandomIndex=Math.floor(Math.random()*eligibleParticipants.length);constrandomPair=eligibleParticipants[randomIndex];//FetchweddingGIFconstapiUrl="https://api.waifu.pics/sfw/hug";//UsingkissasweddingGIFletres=awaitaxios.get(apiUrl);letgifUrl=res.data.url;letgifBuffer=awaitfetchGif(gifUrl);letvideoBuffer=awaitgifToVideo(gifBuffer);constmessage=`💍*ShadiMubarak!*💒\n\n👰@${sender.split("@")[0]}+🤵@${randomPair.split("@")[0]}\n\nMayyoubothlivehappilyeverafter!💖`;awaitconn.sendMessage(mek.chat,{video:videoBuffer,caption:message,gifPlayback:true,mentions:[sender,randomPair]},{quoted:mek});}catch(error){console.error("❌Errorin.marigecommand:",error);reply(`❌*Errorin.marigecommand:*\n\`\`\`${error.message}\`\`\``);}});