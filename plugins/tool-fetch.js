const{cmd,commands}=require('../command');const{fetchJson}=require('../lib/functions');cmd({pattern:"fetch",alias:["get","api"],desc:"FetchdatafromaprovidedURLorAPI",category:"main",react:"🌐",filename:__filename},async(conn,mek,m,{from,quoted,body,args,reply})=>{try{constq=args.join('').trim();//ExtracttheURLorAPIqueryif(!q)returnreply('❌PleaseprovideavalidURLorquery.');if(!/^https?:\/\//.test(q))returnreply('❌URLmuststartwithhttp://orhttps://.');constdata=awaitfetchJson(q);//UseyourfetchJsonutilityfunctiontogetdataconstcontent=JSON.stringify(data,null,2);awaitconn.sendMessage(from,{text:`🔍*FetchedData*:\n\`\`\`${content.slice(0,2048)}\`\`\``,contextInfo:{mentionedJid:[m.sender],forwardingScore:999,isForwarded:true,forwardingSourceMessage:'YourDataRequest',}},{quoted:mek});}catch(e){console.error("Errorinfetchcommand:",e);reply(`❌Anerroroccurred:\n${e.message}`);}});