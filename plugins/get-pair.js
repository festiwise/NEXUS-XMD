const{cmd,commands}=require('../command');constaxios=require('axios');cmd({pattern:"pair",alias:["getpair","clonebot"],react:"✅",desc:"GetpairingcodeforNEXUS-XMDbot",category:"download",use:".pair2546582XXX",filename:__filename},async(conn,mek,m,{from,quoted,body,isCmd,command,args,q,isGroup,senderNumber,reply})=>{try{//ExtractphonenumberfromcommandconstphoneNumber=q?q.trim().replace(/[^0-9]/g,''):senderNumber.replace(/[^0-9]/g,'');//Validatephonenumberformatif(!phoneNumber||phoneNumber.length<10||phoneNumber.length>15){returnawaitreply("❌Pleaseprovideavalidphonenumberwithout`+`\nExample:`.pair923427582XXX`");}//MakeAPIrequesttogetpairingcodeconstresponse=awaitaxios.get(`https://nexus-xmd-pair-site.onrender.com/code?number=${encodeURIComponent(phoneNumber)}`);if(!response.data||!response.data.code){returnawaitreply("❌Failedtoretrievepairingcode.Pleasetryagainlater.");}constpairingCode=response.data.code;constdoneMessage=">*NEXUS-XMDPAIRINGCOMPLETED*";//Sendinitialmessagewithformattingawaitreply(`${doneMessage}\n\n*Yourpairingcodeis:*${pairingCode}`);//Optional2-seconddelayawaitnewPromise(resolve=>setTimeout(resolve,2000));//Sendcleancodeagainawaitreply(`${pairingCode}`);}catch(error){console.error("Paircommanderror:",error);awaitreply("❌Anerroroccurredwhilegettingpairingcode.Pleasetryagainlater.");}});